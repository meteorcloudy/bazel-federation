platforms:
  macos:
    build_targets:
    - '@bazel_gazelle//...'
    setup:
    - python3.7 scripts/patch_repositories.py
    - python3.7 scripts/create_project_workspace.py --project=bazel_gazelle
    test_targets:
    - '@bazel_gazelle//...'
  ubuntu1604:
    build_targets:
    - '@bazel_gazelle//...'
    setup:
    - python3.6 scripts/patch_repositories.py
    - python3.6 scripts/create_project_workspace.py --project=bazel_gazelle
    test_targets:
    - '@bazel_gazelle//...'
  ubuntu1804:
    build_targets:
    - '@bazel_gazelle//...'
    setup:
    - python3.6 scripts/patch_repositories.py
    - python3.6 scripts/create_project_workspace.py --project=bazel_gazelle
    test_targets:
    - '@bazel_gazelle//...'
  windows:
    build_targets:
    - --
    - '@bazel_gazelle//...'
    - -@bazel_gazelle//cmd/autogazelle/...
    setup:
    - python.exe scripts/patch_repositories.py
    - python.exe scripts/create_project_workspace.py --project=bazel_gazelle
    test_targets:
    - --
    - '@bazel_gazelle//...'
    - -@bazel_gazelle//cmd/autogazelle/...
    - -@bazel_gazelle//internal:go_repository_test
